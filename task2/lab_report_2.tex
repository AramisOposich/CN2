%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CN2 Labreport template
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[parskip=full]{scrartcl}

\usepackage{siunitx}  % Provides the \SI{}{} command for typesetting SI units
\usepackage{graphicx} % Required for the inclusion of images
\usepackage{booktabs} % nicer tables
\usepackage[noabbrev]{cleveref} % automatic references
\usepackage{listings} % typeset code
\usepackage[backend=biber]{biblatex}
\addbibresource{referenzen.bib}

\crefname{lstlisting}{listing}{listings} % for referencing code
\Crefname{lstlisting}{Listing}{Listings} % for referencing code

\usepackage[headsepline]{scrlayer-scrpage} % header
\ohead{Group 06} % right part of header
\ihead{Assignment 1} % left part of header

\lstset{basicstyle=\ttfamily} % monospaced font in listing



%----------------------------------------------------------------------------------------
%	DOCUMENT INFORMATION
%----------------------------------------------------------------------------------------

\begin{document}
\begin{titlepage}
    \centering
    \vspace*{2cm}
    {\Huge \textbf{Communication Networks 2}}\\
    SS 2021\\
    \vspace*{1cm}
    {\Large Assignment 2}
    \\\vspace*{3cm}
    {\Large \textbf{Group 06}}\\
    \vspace*{1cm}
    {\large 
        \begin{tabular}{l c c}
            Name & Mat.Nummer \\ \hline
            Paul Kloker & 12034928 \\
            Juan Aramis Oposich & 11701238
        \end{tabular}
    }
    \\\vspace*{7cm}
    \today
\end{titlepage}

%----------------------------------------------------------------------------------------
%	SECTION 1
%----------------------------------------------------------------------------------------
\section{Task description} \label{sec:task}
The task of this assignment is to set up a Voice over IP (VoIP) Client and compare the influence of multimedia codecs on the Quality of Service (QoS) of video calls.
Furthermore, the signaling messages of the Session Initiation Protocol (SIP) shall be analyzed to verify the correct behavior and to find a secret message of the registrar.

The comparison of the QoS is to be done once subjectively and once on the basis of self-selected network parameters, which are also to be visualized graphically. 


%----------------------------------------------------------------------------------------
%	SECTION 2
%----------------------------------------------------------------------------------------
\section{Procedure} \label{sec:procedure}

\subsection{Linphone setup and SIP registration} \label{subsec:setup}
(- welche zugangsdaten ... 
- Signaling (Sequenzdiagramm) des Registrierungsvorgangs + Secret message)

\begin{figure}[!ht]
	\centering % centering figure 
	\includegraphics[height=6cm]{images/sip_flowseq.png} % importing figure
	\caption{Captured IMAP traffic} 
	\label{fig:ws} % labeling to refer it inside the text
\end{figure} 

%Von letzten SIP Register haben wir die secret message bekommen!
%1.) SIP REQUEST: Digest realm="cn2lab.cn.tuwien.ac.at", nonce="YJpM2mCaS64RWAT+53QLYY40A29xCJ3l", username="cn_06",  %uri="sip:cn2lab.cn.tuwien.ac.at", response="aa76de94237e27cb05b0091b89a01628"

%2.) STATUS 200 OK: Secret-Message: Dazecixaru4

\subsection{Capturing process} \label{subsec:capture}
This year because of the COVID-19 pandemic it was only possible to access the lab PCs remotely.
This is most of the time no problem but to compare the video and audio quality of SIP calls it is important to have direct access, because the VNC connection influences the subjective impressions.
To overcome this problem a command line tool called \verb|cn2_sbs_capture| has been provided, which captures the incoming audio and video and the outgoing video.
Because the camera and microphone of the lab PC could not be used the same video was played each call.

To capture a call, the selected codecs were first set in the Linphone settings. 
Then \verb|cn2_sbs_capture| was executed with the default settings and the Wireshark capture was started. 
After that a one-minute-long call was made. 
Table \ref{tab:capture} shows all captured calls and the chosen codecs.

\begin{table}[hb]
	\centering
	\caption{Captured calls}
	\label{tab:capture}
	\begin{tabular}{l|l|l|l}
		\toprule
		\textbf{No.} & \textbf{connection type} & \textbf{video codec} & \textbf{audio codec}  \\ \midrule
		1 & landline & VP8 & OPUS\\
		2 & satellite & VP8 & OPUS\\
		3 & landline & MP4V\_ES & speex 16 kbit\\
		4 & satellite & MP4V\_ES & speex16 kbit\\
		5 & landline & MP4V\_ES & PCMU\\
		6 & satellite & MP4V\_ES & PCMU\\
		7 & satellite & H.263-1998\_ES & GSM\\
		8 & satellite & H.263 & speex 8 kbit\\
		\bottomrule
	\end{tabular}
\end{table}

- Warum wurden diese codecs gew채hlt...

\subsection{SIP signaling and SDP} \label{subsec:signaling}

- SIP Signaling mit Sequenzdiagramm beschreiben "verify that both, signaling and media work correctly."

- SDP genauer anschauen (stehen die ausgew채hlten codecs drinnen...)

\subsection{Audio codec quality comparison} \label{subsec:audio}
- Audio codecs subjektiv  vergleichen (vielleicht nach der Mean Opinion Score)

- RTP Analyse + Grafen
\subsection{Video codec quality comparison} \label{subsec:video}
- Video codecs subjektiv vergleichen  

z.B.\verb| https://en.wikipedia.org/wiki/Subjective_video_quality | 
  
Das ist so 채hnlich wie MOS:
https://www.irisa.fr/armor/lesmembres/Mohamed/Thesis/node146.html

- RTP Analyse + Grafen
%----------------------------------------------------------------------------------------
%	SECTION 3
%----------------------------------------------------------------------------------------
\section{Conclusion}

Was sind die besten Codecs f체r welche Situation. 
%----------------------------------------------------------------------------------------
%	SECTION X
%---------------------------------------------------------------------------------------

\printbibliography

\end{document}
